{"remainingRequest":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\ForgetPwd.vue?vue&type=template&id=3a8f4a70&scoped=true","dependencies":[{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\ForgetPwd.vue","mtime":1626071997912},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1624994109000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9ImZvcmdldFB3ZCI+DQogICAgPGRpdiBjbGFzcz0icHdkLWZvcm0iPg0KICAgICAgPHZhbi1mb3JtIEBzdWJtaXQ9Im9uU3VibWl0Ij4NCiAgICAgICAgPHZhbi1maWVsZA0KICAgICAgICAgICAgdi1tb2RlbD0ic3RhdGUucGhvbmUiDQogICAgICAgICAgICB0eXBlPSJ0ZWwiDQogICAgICAgICAgICByZXF1aXJlZA0KICAgICAgICAgICAgbmFtZT0icGhvbmUiDQogICAgICAgICAgICBsYWJlbD0i5omL5qmf6Jmf56K8Ig0KICAgICAgICAgICAgcGxhY2Vob2xkZXI9IuaJi+apn+iZn+eivCINCiAgICAgICAgICAgIDpydWxlcz0iW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfoq4vovLjlhaXmgqjnmoTmiYvmqZ/omZ/norwnIH1dIg0KICAgICAgICAvPg0KICAgICAgICA8dmFuLWZpZWxkDQogICAgICAgICAgICB2LW1vZGVsPSJzdGF0ZS5uZXdQYXNzd29yZCINCiAgICAgICAgICAgIHR5cGU9InBhc3N3b3JkIg0KICAgICAgICAgICAgcmVxdWlyZWQNCiAgICAgICAgICAgIG5hbWU9Im5ld1Bhc3N3b3JkIg0KICAgICAgICAgICAgbGFiZWw9IuWvhueivCINCiAgICAgICAgICAgIHBsYWNlaG9sZGVyPSLlr4bnorwiDQogICAgICAgICAgICA6cnVsZXM9Ilt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6KuL6Ly45YWl5oKo55qE5a+G56K8JyB9XSINCiAgICAgICAgLz4NCiAgICAgICAgPHZhbi1maWVsZA0KICAgICAgICAgICAgdi1tb2RlbD0ic3RhdGUuZGJDb25maXJlbWVkUHdkIg0KICAgICAgICAgICAgdHlwZT0icGFzc3dvcmQiDQogICAgICAgICAgICByZXF1aXJlZA0KICAgICAgICAgICAgbmFtZT0iZGJDb25maXJlbWVkUHdkIg0KICAgICAgICAgICAgbGFiZWw9IuWvhueivCINCiAgICAgICAgICAgIHBsYWNlaG9sZGVyPSLoq4vlho3mrKHovLjlhaXmgqjnmoTlr4bnorwiDQogICAgICAgICAgICA6cnVsZXM9Ilt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6KuL5YaN5qyh6Ly45YWl5oKo55qE5a+G56K8JyB9XSINCiAgICAgICAgLz4NCiAgICAgICAgPHZhbi1maWVsZA0KICAgICAgICAgICAgY2VudGVyDQogICAgICAgICAgICBjbGVhcmFibGUNCiAgICAgICAgICAgIGxhYmVsPSLnn63kv6HpqZforYnnorwiDQogICAgICAgICAgICBwbGFjZWhvbGRlcj0i6KuL6Ly45YWl5oKo55qE55+t5L+h6amX6K2J56K8Ig0KICAgICAgICAgICAgcmVxdWlyZWQNCiAgICAgICAgICAgIHYtbW9kZWw9InN0YXRlLmNvZGUiDQogICAgICAgICAgICA6cnVsZXM9Ilt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6KuL6Ly45YWl5oKo55qE55+t5L+h6amX6K2J56K8JyB9XSINCiAgICAgICAgPg0KICAgICAgICAgIDx0ZW1wbGF0ZSAjYnV0dG9uPg0KICAgICAgICAgICAgPHZhbi1idXR0b24gIEBjbGljaz0ic2VuZFNNUyIgc2l6ZT0ic21hbGwiIHR5cGU9InByaW1hcnkiPueZvOmAgempl+itieeivDwvdmFuLWJ1dHRvbj4NCiAgICAgICAgICA8L3RlbXBsYXRlPg0KICAgICAgICA8L3Zhbi1maWVsZD4NCiAgICAgICAgPGRpdiBjbGFzcz0iYnV0dG9uX2NlbnRlciIgc3R5bGU9Im1hcmdpbjogMTZweDsiPg0KICAgICAgICAgICAgPHZhbi1idXR0b24gY2xhc3M9InN1Ym1pdCIgcm91bmQgYmxvY2sgdHlwZT0icHJpbWFyeSIgbmF0aXZlLXR5cGU9InN1Ym1pdCI+DQogICAgICAgICAgICAgICAg5o+Q5LqkDQogICAgICAgICAgICA8L3Zhbi1idXR0b24+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC92YW4tZm9ybT4NCiAgICA8L2Rpdj4NCiAgPC9kaXY+DQo="},{"version":3,"sources":["C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\ForgetPwd.vue"],"names":[],"mappings":"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","file":"C:/Users/Ares/Desktop/washing-master/src/components/ForgetPwd.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"forgetPwd\">\r\n    <div class=\"pwd-form\">\r\n      <van-form @submit=\"onSubmit\">\r\n        <van-field\r\n            v-model=\"state.phone\"\r\n            type=\"tel\"\r\n            required\r\n            name=\"phone\"\r\n            label=\"手機號碼\"\r\n            placeholder=\"手機號碼\"\r\n            :rules=\"[{ required: true, message: '請輸入您的手機號碼' }]\"\r\n        />\r\n        <van-field\r\n            v-model=\"state.newPassword\"\r\n            type=\"password\"\r\n            required\r\n            name=\"newPassword\"\r\n            label=\"密碼\"\r\n            placeholder=\"密碼\"\r\n            :rules=\"[{ required: true, message: '請輸入您的密碼' }]\"\r\n        />\r\n        <van-field\r\n            v-model=\"state.dbConfiremedPwd\"\r\n            type=\"password\"\r\n            required\r\n            name=\"dbConfiremedPwd\"\r\n            label=\"密碼\"\r\n            placeholder=\"請再次輸入您的密碼\"\r\n            :rules=\"[{ required: true, message: '請再次輸入您的密碼' }]\"\r\n        />\r\n        <van-field\r\n            center\r\n            clearable\r\n            label=\"短信驗證碼\"\r\n            placeholder=\"請輸入您的短信驗證碼\"\r\n            required\r\n            v-model=\"state.code\"\r\n            :rules=\"[{ required: true, message: '請輸入您的短信驗證碼' }]\"\r\n        >\r\n          <template #button>\r\n            <van-button  @click=\"sendSMS\" size=\"small\" type=\"primary\">發送驗證碼</van-button>\r\n          </template>\r\n        </van-field>\r\n        <div class=\"button_center\" style=\"margin: 16px;\">\r\n            <van-button class=\"submit\" round block type=\"primary\" native-type=\"submit\">\r\n                提交\r\n            </van-button>\r\n        </div>\r\n      </van-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueCookies from 'vue-cookies'\r\nimport { reactive } from 'vue';\r\nimport axios from \"axios\";\r\nimport {Toast} from \"vant\";\r\nimport md5 from 'js-md5';\r\nexport default {\r\n  name:'PwdForm',\r\n  beforeMount() {\r\n    if(VueCookies.get(\"LoginStatus\")==1){\r\n      window.location.href=\"./order\";\r\n    }\r\n  },\r\n  setup() {\r\n    const state = reactive({\r\n      phone: '',\r\n      newPassword: '',\r\n      dbConfiremedPwd:'',\r\n      code:'',\r\n    });\r\n    const sendSMS = () => {\r\n      if(state.phone==\"\"){\r\n        Toast(\"請輸入你的聯絡電話\");\r\n      }else{\r\n        console.log(state.phone);\r\n        axios.post(\"http://121.199.54.43:8888/tourist/sendSMSVerificationCode?phone=\"+\"852\"+state.phone)\r\n        // axios.post(\"/tourist/sendSMSVerificationCode?phone=\"+\"852\"+state.phone)\r\n            .then(function(response){\r\n              // console.log(response);\r\n              Toast(response.data.msg);\r\n            })\r\n      }\r\n    };\r\n    const onSubmit = (values) => {\r\n        if(state.dbConfiremedPwd!=state.newPassword){\r\n          Toast(\"兩次密碼不相同\");\r\n        }\r\n      console.log('submit', values);\r\n      const data = {\r\n        phone: '852'+state.phone,\r\n        newPassword: md5(state.newPassword),\r\n        code:state.code,\r\n      }\r\n      const headers = {\r\n        \"Content-Type\" : \"application/json; charset=utf-8\",\r\n      }\r\n      axios.post(\"http://121.199.54.43:8888/tourist/changePassword\", data, {headers})\r\n      // axios.post(\"/tourist/changePassword\", data, {headers})\r\n        .then(function(register_response){\r\n          console.log(register_response);\r\n          if(register_response.data.code==200){\r\n            Toast(\"Success\");\r\n            window.location.href=\"./order\";\r\n          }else{\r\n            Toast(register_response.data.msg);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(\"There was an error!\", error.message);\r\n        });\r\n    };\r\n    return {\r\n      state,\r\n      onSubmit,\r\n      sendSMS\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\n.submit{\r\n  /*margin-left: 27px;*/\r\n  width:100%;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: blue;\r\n}\r\n</style>\r\n"]}]}