{"remainingRequest":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Ares\\Desktop\\washing-master\\src\\views\\OrderHistory.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\src\\views\\OrderHistory.vue","mtime":1626752915109},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgTmF2Qm90dG9tIGZyb20gIi4uL2NvbXBvbmVudHMvTmF2Qm90dG9tIjsKaW1wb3J0IE5hdkhlYWQgZnJvbSAiLi4vY29tcG9uZW50cy9OYXZIZWFkIjsKaW1wb3J0IE9yZGVySURUYWIgZnJvbSAiLi4vY29tcG9uZW50cy9PcmRlcklEVGFiIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFZ1ZUNvb2tpZXMgZnJvbSAidnVlLWNvb2tpZXMiOwppbXBvcnQgR2xvYmFsIGZyb20gJy4uL2NvbXBvbmVudHMvQ29tbW9uJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdPcmRlckhpc3RvcnknLAogIGNvbXBvbmVudHM6IHsKICAgIE9yZGVySURUYWI6IE9yZGVySURUYWIsCiAgICBOYXZIZWFkOiBOYXZIZWFkLAogICAgTmF2Qm90dG9tOiBOYXZCb3R0b20KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTE6IDAsCiAgICAgIG9wdGlvbjE6IFt7CiAgICAgICAgdGV4dDogJ+W+nuacgOaWsOWIsOacgOiIiicsCiAgICAgICAgdmFsdWU6IDAKICAgICAgfSwgewogICAgICAgIHRleHQ6ICflvp7mnIDoiIrliLDmnIDmlrAnLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH0gLy8geyB0ZXh0OiAn5pio5aSp55qE6KiY6YyEJywgdmFsdWU6IDIgfSwKICAgICAgXSwKICAgICAgbGlzdDogdW5kZWZpbmVkLAogICAgICByZXZlcnNlTGlzdDogdW5kZWZpbmVkLAogICAgICBtYXN0ZXJfbGlzdDogdW5kZWZpbmVkLAogICAgICByZW50QW1vdW50OiBHbG9iYWwucmVudEFtb3VudAogICAgfTsKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIGNvbnNvbGUubG9nKFZ1ZUNvb2tpZXMuZ2V0KCJMb2dpblN0YXR1cyIpKTsKCiAgICBpZiAoVnVlQ29va2llcy5nZXQoIkxvZ2luU3RhdHVzIikgPT0gbnVsbCB8fCBWdWVDb29raWVzLmdldCgiUGhvbmUiKSA9PSBudWxsKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIi4vIjsKICAgIH0gZWxzZSB7CiAgICAgIC8vIGF4aW9zLmdldCgiaHR0cDovLzEyMS4xOTkuNTQuNDM6ODg4OC9hcGkvc2VydmljZS9ydW5Db3JuSm9iIikuCiAgICAgIGF4aW9zLmdldCgiL2FwaS9zZXJ2aWNlL3J1bkNvcm5Kb2IiKS50aGVuKGZ1bmN0aW9uIChSZWZyZXNoUmVzcG9uc2UpIHsKICAgICAgICBpZiAoUmVmcmVzaFJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKFJlZnJlc2hSZXNwb25zZS5kYXRhLm1zZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKFJlZnJlc2hSZXNwb25zZS5kYXRhLm1zZyk7CgogICAgICAgICAgX1RvYXN0KCJQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBhZ2Fpbi4iKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIlRoZXJlIHdhcyBhbiBlcnJvciEiLCBlcnJvci5tZXNzYWdlKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyBheGlvcy5nZXQoImh0dHA6Ly8xMjEuMTk5LjU0LjQzOjg4ODgvcGFja2FnZS9xdWVyeU9yZGVyQnlQaG9uZT9waG9uZT0iK1Z1ZUNvb2tpZXMuZ2V0KCJQaG9uZSIpKQogICAgYXhpb3MuZ2V0KCIvcGFja2FnZS9xdWVyeU9yZGVyQnlQaG9uZT9waG9uZT0iICsgVnVlQ29va2llcy5nZXQoIlBob25lIikpLnRoZW4oZnVuY3Rpb24gKEFyZXNIaXN0b3J5UmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2coQXJlc0hpc3RvcnlSZXNwb25zZSk7CgogICAgICBpZiAoQXJlc0hpc3RvcnlSZXNwb25zZS5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgX3RoaXMubGlzdCA9IEFyZXNIaXN0b3J5UmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIF90aGlzLnJldmVyc2VMaXN0ID0gQXJlc0hpc3RvcnlSZXNwb25zZS5kYXRhLmRhdGEuc2xpY2UoKS5yZXZlcnNlKCk7CiAgICAgICAgX3RoaXMubWFzdGVyX2xpc3QgPSBBcmVzSGlzdG9yeVJlc3BvbnNlLmRhdGEuZGF0YS5zbGljZSgpLnJldmVyc2UoKTsKICAgICAgICBjb25zb2xlLndhcm4oQXJlc0hpc3RvcnlSZXNwb25zZS5kYXRhLmRhdGEpOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmxpc3QpOyAvLyBsZXQgb3JkZXJJbmZvID0gQXJlc0hpc3RvcnlSZXNwb25zZS5kYXRhLmRhdGFbQXJlc0hpc3RvcnlSZXNwb25zZS5kYXRhLmRhdGEubGVuZ3RoLTFdOwogICAgICAgIC8vIGNvbnNvbGUubG9nKG9yZGVySW5mbyk7CgogICAgICAgIF9Ub2FzdChBcmVzSGlzdG9yeVJlc3BvbnNlLmRhdGEubXNnKTsgLy8gd2luZG93LmxvY2F0aW9uLmhyZWY9Ii4vaGlzdG9yeSI7CgogICAgICB9IGVsc2UgewogICAgICAgIF9Ub2FzdChBcmVzSGlzdG9yeVJlc3BvbnNlLmRhdGEubXNnKTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoIlRoZXJlIHdhcyBhbiBlcnJvciEiLCBlcnJvci5tZXNzYWdlKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgRmlsdGVyOiBmdW5jdGlvbiBGaWx0ZXIoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudmFsdWUxKTsKCiAgICAgIGlmICh0aGlzLnZhbHVlMSA9PSAwKSB7CiAgICAgICAgdGhpcy5tYXN0ZXJfbGlzdCA9IHRoaXMucmV2ZXJzZUxpc3Q7CiAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZTEgPT0gMSkgewogICAgICAgIHRoaXMubWFzdGVyX2xpc3QgPSB0aGlzLmxpc3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIiIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Ares\\Desktop\\washing-master\\src\\views\\OrderHistory.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <NavHead isShowHead=\"2\"/>\r\n  <div class=\"container\">\r\n    <van-row>\r\n      <van-col span=\"14\">\r\n        <h3>訂單記錄</h3>\r\n      </van-col>\r\n      <van-col span=\"10\">\r\n        <van-dropdown-menu>\r\n          <van-dropdown-item @change=\"Filter\" v-model=\"value1\" :options=\"option1\" />\r\n        </van-dropdown-menu>\r\n      </van-col>\r\n    </van-row>\r\n<!--      <OrderIDTab-->\r\n<!--          Status = 'OS_5'-->\r\n<!--          OrderNum = 'A8123456789'-->\r\n<!--          Time = '2021-06-10 17:41:21'-->\r\n<!--          RentalTag = 'true'-->\r\n<!--          TotalAmount = '88'-->\r\n<!--          Name = 'Kenrick'-->\r\n<!--          Phone = 85265004725-->\r\n<!--          AddressValue = '4PX-P002'-->\r\n<!--      />-->\r\n      <OrderIDTab\r\n          v-for=\"item in master_list\" v-bind:key=\"item.id\"\r\n          :Status = \"item.orderStatusCn\"\r\n          :OrderNum = \"item.waybillNo>0?item.waybillNo:item.orderNo\"\r\n          :Time = \"item.orderTime\"\r\n          :RentalTag =\"item.rentTag=='true'?1:0\"\r\n          :TotalAmount = \"item.rentTag=='true'?(88+rentAmount):88\"\r\n          :Name = \"item.consigneeName\"\r\n          :Phone =\"item.consigneePhone\"\r\n          :AddressValue =\"item.storeFullAddress\"\r\n      />\r\n  </div>\r\n  <div style=\"\"></div>\r\n  <NavBottom :propsActive=\"3\"/>\r\n</template>\r\n\r\n<script>\r\nimport NavBottom from \"../components/NavBottom\";\r\nimport NavHead from \"../components/NavHead\";\r\nimport OrderIDTab from \"../components/OrderIDTab\";\r\nimport axios from \"axios\";\r\nimport {Toast} from \"vant\";\r\nimport VueCookies from \"vue-cookies\";\r\nimport Global from '../components/Common';\r\n\r\nexport default {\r\n  name: 'OrderHistory',\r\n  components: {\r\n    OrderIDTab,\r\n    NavHead,\r\n    NavBottom,\r\n  },\r\n  data()\r\n  {\r\n    return{\r\n      value1: 0,\r\n      option1: [\r\n        { text: '從最新到最舊', value: 0 },\r\n        { text: '從最舊到最新', value: 1 },\r\n        // { text: '昨天的記錄', value: 2 },\r\n      ],\r\n      list:undefined,\r\n      reverseList: undefined,\r\n      master_list: undefined,\r\n      rentAmount:Global.rentAmount\r\n    }\r\n  },\r\n  beforeMount() {\r\n    console.log(VueCookies.get(\"LoginStatus\"));\r\n    if(VueCookies.get(\"LoginStatus\")==null||VueCookies.get(\"Phone\")==null){\r\n      window.location.href = \"./\";\r\n    }else{\r\n        // axios.get(\"http://121.199.54.43:8888/api/service/runCornJob\").\r\n      axios.get(\"/api/service/runCornJob\").\r\n      then((RefreshResponse)=>{\r\n        if(RefreshResponse.data.code == 200){\r\n          console.log(RefreshResponse.data.msg);\r\n        }else{\r\n          console.log(RefreshResponse.data.msg);\r\n          Toast(\"Please refresh the page again.\")\r\n        }\r\n      })\r\n          .catch(error => {\r\n            console.error(\"There was an error!\", error.message);\r\n          });\r\n    }\r\n  },\r\n  mounted(){\r\n        // axios.get(\"http://121.199.54.43:8888/package/queryOrderByPhone?phone=\"+VueCookies.get(\"Phone\"))\r\n    axios.get(\"/package/queryOrderByPhone?phone=\"+VueCookies.get(\"Phone\"))\r\n        .then((AresHistoryResponse)=>{\r\n          console.log(AresHistoryResponse);\r\n          if(AresHistoryResponse.data.code == 200){\r\n            this.list=AresHistoryResponse.data.data;\r\n            this.reverseList = AresHistoryResponse.data.data.slice().reverse();\r\n            this.master_list = AresHistoryResponse.data.data.slice().reverse();\r\n            console.warn(AresHistoryResponse.data.data);\r\n            console.log(this.list)\r\n            // let orderInfo = AresHistoryResponse.data.data[AresHistoryResponse.data.data.length-1];\r\n            // console.log(orderInfo);\r\n            Toast(AresHistoryResponse.data.msg);\r\n            // window.location.href=\"./history\";\r\n          }else{\r\n            Toast(AresHistoryResponse.data.msg);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(\"There was an error!\", error.message);\r\n        });\r\n  },\r\n  methods:{\r\n    Filter(){\r\n      console.log(this.value1);\r\n      if(this.value1 == 0){\r\n       this.master_list = this.reverseList;\r\n      }else if(this.value1 == 1){\r\n        this.master_list = this.list;\r\n      }else{\r\n        console.log(\"\")\r\n        return ;\r\n      }\r\n    },\r\n  },\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\nh3{\r\n  margin:0px!important;\r\n  padding-top: 1rem;\r\n  margin-bottom: 1rem!important;\r\n}\r\n.container{\r\n  padding: 0px 10px 50px 10px;\r\n}\r\n</style>"],"sourceRoot":""}]}