{"remainingRequest":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\Login.vue","mtime":1626339772650},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBWdWVDb29raWVzIGZyb20gJ3Z1ZS1jb29raWVzJzsKaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgbWQ1IGZyb20gJ2pzLW1kNSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW5Gb3JtJywKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICBpZiAoVnVlQ29va2llcy5nZXQoIkxvZ2luU3RhdHVzIikgPT0gMSkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIuL29yZGVyIjsKICAgIH0KCiAgICBpZiAoVnVlQ29va2llcy5nZXQoIkxvZ2luU3RhdHVzIikgPT0gMCB8fCBWdWVDb29raWVzLmdldCgiTG9naW5TdGF0dXMiKSA9PSBudWxsKSB7CiAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycKICAgIH0pOwoKICAgIHZhciBvblN1Ym1pdCA9IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcykgewogICAgICBjb25zb2xlLmxvZygnc3VibWl0JywgdmFsdWVzKTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgdXNlcm5hbWU6ICc4NTInICsgdmFsdWVzLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiBtZDUodmFsdWVzLnBhc3N3b3JkKQogICAgICB9OwogICAgICB2YXIgaGVhZGVycyA9IHsKICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiCiAgICAgIH07IC8vIGF4aW9zLnBvc3QoImh0dHA6Ly8xMjEuMTk5LjU0LjQzOjg4ODgvdXNlci91c2VyTG9naW4iLCBkYXRhLCB7aGVhZGVyc30pCiAgICAgIC8vIGF4aW9zLnBvc3QoImh0dHA6Ly8xOTIuMTY4LjEwMC4xMDM6ODA4MC91c2VyL3VzZXJMb2dpbiIsIGRhdGEsIHtoZWFkZXJzfSkKCiAgICAgIGF4aW9zLnBvc3QoIi91c2VyL3VzZXJMb2dpbiIsIGRhdGEsIHsKICAgICAgICBoZWFkZXJzOiBoZWFkZXJzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgX1RvYXN0KCJMb2dpbiBzdWNjZXNzZnVsbHkiKTsgLy8gYXhpb3MuZ2V0KCJodHRwOi8vMTIxLjE5OS41NC40Mzo4ODg4L3VzZXIvZ2V0VXNlckJ5UGhvbmU/cGhvbmU9IitkYXRhLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKHBob25lUmVzcG9uc2UpewogICAgICAgICAgLy8gYXhpb3MuZ2V0KCJodHRwOi8vMTkyLjE2OC4xMDAuMTAzOjgwODAvdXNlci9nZXRVc2VyQnlQaG9uZT9waG9uZT0iK2RhdGEudXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24ocGhvbmVSZXNwb25zZSl7CgoKICAgICAgICAgIGF4aW9zLmdldCgiL3VzZXIvZ2V0VXNlckJ5UGhvbmU/cGhvbmU9IiArIGRhdGEudXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24gKHBob25lUmVzcG9uc2UpIHsKICAgICAgICAgICAgLy8gbGV0IG5hbWUgPSByZXNwb25zZS5kYXRhLm5hbWU7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBob25lUmVzcG9uc2UuZGF0YS5jb2RlKTsKCiAgICAgICAgICAgIGlmIChwaG9uZVJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICBWdWVDb29raWVzLnNldCgiTG9naW5TdGF0dXMiLCAxKTsKICAgICAgICAgICAgICBWdWVDb29raWVzLnNldCgiTmFtZSIsIHBob25lUmVzcG9uc2UuZGF0YS5kYXRhLm5hbWUpOwogICAgICAgICAgICAgIFZ1ZUNvb2tpZXMuc2V0KCJQaG9uZSIsIGRhdGEudXNlcm5hbWUpOwogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIi4vb3JkZXIiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF9Ub2FzdChwaG9uZVJlc3BvbnNlLmRhdGEubXNnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF9Ub2FzdChyZXNwb25zZS5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgICAgIGNvbnNvbGUuZXJyb3IoIlRoZXJlIHdhcyBhbiBlcnJvciEiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBzdGF0ZTogc3RhdGUsCiAgICAgIG9uU3VibWl0OiBvblN1Ym1pdAogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93OiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dQb3B1cDogZnVuY3Rpb24gc2hvd1BvcHVwKCkgewogICAgICB0aGlzLnNob3cgPSB0cnVlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div class=\"login-form\">\r\n      <van-form @submit=\"onSubmit\">\r\n        <van-field\r\n            v-model=\"state.tel\"\r\n            type=\"tel\"\r\n            required\r\n            name=\"username\"\r\n            label=\"手機號碼\"\r\n            placeholder=\"手機號碼\"\r\n            :rules=\"[{ required: true, message: '請輸入您的手機號碼' }]\"\r\n        />\r\n        <van-field\r\n            v-model=\"state.password\"\r\n            type=\"password\"\r\n            required\r\n            name=\"password\"\r\n            label=\"密碼\"\r\n            placeholder=\"密碼\"\r\n            :rules=\"[{ required: true, message: '請輸入您的密碼' }]\"\r\n        />\r\n          <div style=\"margin-top: 16px;\" >\r\n            <a href=\"forgetPassword\">忘記密碼?</a>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <a href=\"/register\">註冊</a>\r\n          </div>\r\n          <div class=\"button_center\" style=\"margin: 16px;\">\r\n            <van-button class=\"submit\" round block type=\"primary\" native-type=\"submit\">\r\n              提交\r\n            </van-button>\r\n          </div>\r\n      </van-form>\r\n    </div>\r\n  </div>\r\n<van-overlay :show=\"show\" @click=\"show = false\">\r\n    <van-icon name=\"clear\" color=\"white\" size=\"40\" />\r\n    <div class=\"imgBox\"><img src=\"../assets/flow.png\"></div>\r\n</van-overlay>\r\n</template>\r\n<script>\r\nimport VueCookies from 'vue-cookies'\r\nimport { reactive } from 'vue';\r\nimport axios from \"axios\";\r\nimport {Toast} from \"vant\";\r\nimport md5 from 'js-md5';\r\nexport default {\r\n  name:'LoginForm',\r\n  beforeMount() {\r\n    if(VueCookies.get(\"LoginStatus\")==1){\r\n      window.location.href=\"./order\";\r\n    }\r\n    if(VueCookies.get(\"LoginStatus\")==0||VueCookies.get(\"LoginStatus\")==null){\r\n      this.show=true;\r\n    }\r\n  },\r\n  setup() {\r\n    const state = reactive({\r\n      username: '',\r\n      password: '',\r\n    });\r\n    const onSubmit = (values) => {\r\n      console.log('submit', values);\r\n      const data = {\r\n        username: '852'+values.username,\r\n        password: md5(values.password),\r\n      }\r\n      const headers = {\r\n        \"Content-Type\" : \"application/json; charset=utf-8\",\r\n      }\r\n      // axios.post(\"http://121.199.54.43:8888/user/userLogin\", data, {headers})\r\n          // axios.post(\"http://192.168.100.103:8080/user/userLogin\", data, {headers})\r\n          axios.post(\"/user/userLogin\", data, {headers})\r\n          .then(function(response){\r\n            console.log(response);\r\n            if(response.data.code == 200){\r\n              Toast(\"Login successfully\");\r\n              // axios.get(\"http://121.199.54.43:8888/user/getUserByPhone?phone=\"+data.username).then(function(phoneResponse){\r\n              // axios.get(\"http://192.168.100.103:8080/user/getUserByPhone?phone=\"+data.username).then(function(phoneResponse){\r\n                axios.get(\"/user/getUserByPhone?phone=\"+data.username).then(function(phoneResponse){\r\n                // let name = response.data.name;\r\n                console.log(phoneResponse.data.code);\r\n                if(phoneResponse.data.code == 200){\r\n                  VueCookies.set(\"LoginStatus\",1)\r\n                  VueCookies.set(\"Name\",phoneResponse.data.data.name);\r\n                  VueCookies.set(\"Phone\",data.username);\r\n                  window.location.href=\"./order\";\r\n                }\r\n                else{\r\n                  Toast(phoneResponse.data.msg);\r\n                }\r\n              });\r\n            }else{\r\n              Toast(response.data.msg);\r\n            }\r\n          })\r\n          .catch(error => {\r\n            this.errorMessage = error.message;\r\n            console.error(\"There was an error!\", error);\r\n          });\r\n    };\r\n    return {\r\n      state,\r\n      onSubmit,\r\n    };\r\n  },\r\n  data(){\r\n    return{\r\n      show:false,\r\n    };\r\n  },\r\n  methods:{\r\n     showPopup() {\r\n      this.show = true;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\n.submit{\r\n  /*margin-left: 27px;*/\r\n  width:100%;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: blue;\r\n}\r\n.van-overlay .imgBox{\r\n    position: absolute;\r\n    width: 80%;\r\n    height: 80%;\r\n    left: 50%;\r\n    top: 5%;\r\n    transform: translateX(-50%);\r\n    overflow: auto;\r\n}\r\n  .imgBox img{\r\n    width: 100%;\r\n    height:auto;\r\n  }\r\n@media only screen and (min-width: 992px){\r\n   .van-overlay .imgBox{\r\n    width: 70%;\r\n    height: 70%;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%,-50%);\r\n    overflow: auto;\r\n  }\r\n  .van-overlay .imgBox::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n/* Hide scrollbar for IE, Edge and Firefox */\r\n.van-overlay .imgBox {\r\n  -ms-overflow-style: none;  /* IE and Edge */\r\n  scrollbar-width: none;  /* Firefox */\r\n}\r\n  .imgBox img{\r\n    width: auto;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n.van-overlay i{\r\n  cursor: pointer;\r\n  float: right;\r\n  margin-right: 20px;\r\n  margin-top: 20px;\r\n  z-index: 999;\r\n}\r\n    \r\n</style>\r\n"],"sourceRoot":""}]}