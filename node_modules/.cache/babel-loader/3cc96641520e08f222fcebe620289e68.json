{"remainingRequest":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\Login.vue?vue&type=template&id=061ad8bc&scoped=true","dependencies":[{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\Login.vue","mtime":1626076376662},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1624994109000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtMDYxYWQ4YmMiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTA2MWFkOGJjIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImxvZ2luIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImxvZ2luLWZvcm0iCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiYnV0dG9uX2NlbnRlciIsCiAgc3R5bGU6IHsKICAgICJtYXJnaW4iOiAiMTZweCIKICB9Cn07Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIg5o+Q5LqkICIpOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X3Zhbl9maWVsZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tZmllbGQiKTsKCiAgdmFyIF9jb21wb25lbnRfdmFuX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tYnV0dG9uIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9mb3JtID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1mb3JtIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9mb3JtLCB7CiAgICBvblN1Ym1pdDogJHNldHVwLm9uU3VibWl0CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ZpZWxkLCB7CiAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLnN0YXRlLnRlbCwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRzZXR1cC5zdGF0ZS50ZWwgPSAkZXZlbnQ7CiAgICAgICAgfSksCiAgICAgICAgdHlwZTogInRlbCIsCiAgICAgICAgcmVxdWlyZWQ6ICIiLAogICAgICAgIG5hbWU6ICJ1c2VybmFtZSIsCiAgICAgICAgbGFiZWw6ICLmiYvmqZ/omZ/norwiLAogICAgICAgIHBsYWNlaG9sZGVyOiAi5omL5qmf6Jmf56K8IiwKICAgICAgICBydWxlczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+iri+i8uOWFpeaCqOeahOaJi+apn+iZn+eivCcKICAgICAgICB9XQogICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9maWVsZCwgewogICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5zdGF0ZS5wYXNzd29yZCwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRzZXR1cC5zdGF0ZS5wYXNzd29yZCA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgICAgIHJlcXVpcmVkOiAiIiwKICAgICAgICBuYW1lOiAicGFzc3dvcmQiLAogICAgICAgIGxhYmVsOiAi5a+G56K8IiwKICAgICAgICBwbGFjZWhvbGRlcjogIuWvhueivCIsCiAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfoq4vovLjlhaXmgqjnmoTlr4bnorwnCiAgICAgICAgfV0KICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fYnV0dG9uLCB7CiAgICAgICAgY2xhc3M6ICJzdWJtaXQiLAogICAgICAgIHJvdW5kOiAiIiwKICAgICAgICBibG9jazogIiIsCiAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgICJuYXRpdmUtdHlwZSI6ICJzdWJtaXQiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfNF07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICB9KV0pXTsKICAgIH0pLAogICAgXzogMQogIH0sIDgsIFsib25TdWJtaXQiXSldKV0pOwp9KTs="},{"version":3,"sources":["C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\Login.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AAyBA,EAAA,KAAK,EAAC,e;AAAgB,EAAA,KAAqB,EAArB;AAAA,cAAA;AAAA;;;+CACkD,M;;;;;;;;;;;uBA3BrF,YAAA,CAiCM,KAjCN,EAAA,UAAA,EAiCM,CAhCJ,YAAA,CA+BM,KA/BN,EAAA,UAAA,EA+BM,CA9BJ,YAAA,CA6BW,mBA7BX,EA6BW;AA7BA,IAAA,QAAM,EAAE,MAAA,CAAA;AA6BR,GA7BX,EAA2B;qBACzB;AAAA,aAQE,CARF,YAAA,CAQE,oBARF,EAQE;oBAPW,MAAA,CAAA,KAAA,CAAM,GAOjB;;iBAPW,MAAA,CAAA,KAAA,CAAM,GAAN,GAAS,M;UAOpB;AANE,QAAA,IAAI,EAAC,KAMP;AALE,QAAA,QAAQ,EAAR,EAKF;AAJE,QAAA,IAAI,EAAC,UAIP;AAHE,QAAA,KAAK,EAAC,MAGR;AAFE,QAAA,WAAW,EAAC,MAEd;AADG,QAAA,KAAK,EAAE,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AACV,OARF,E,IAAA,E,CAAA,E,cAAA,CAQE,EACF,YAAA,CAQE,oBARF,EAQE;oBAPW,MAAA,CAAA,KAAA,CAAM,QAOjB;;iBAPW,MAAA,CAAA,KAAA,CAAM,QAAN,GAAc,M;UAOzB;AANE,QAAA,IAAI,EAAC,UAMP;AALE,QAAA,QAAQ,EAAR,EAKF;AAJE,QAAA,IAAI,EAAC,UAIP;AAHE,QAAA,KAAK,EAAC,IAGR;AAFE,QAAA,WAAW,EAAC,IAEd;AADG,QAAA,KAAK,EAAE,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AACV,OARF,E,IAAA,E,CAAA,E,cAAA,CADE,EAeA,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAEa,qBAFb,EAEa;AAFD,QAAA,KAAK,EAAC,QAEL;AAFc,QAAA,KAAK,EAAL,EAEd;AAFoB,QAAA,KAAK,EAAL,EAEpB;AAF0B,QAAA,IAAI,EAAC,SAE/B;AAFyC,uBAAY;AAErD,OAFb,E;yBAA2E;AAAA,iBAE3E,C,UAAA,CAF2E;AAAA,S;;OAA3E,CAGI,CAJN,CAfA,CARF;AAAA,K,CADyB;;AAAA,GAA3B,E,CAAA,E,YAAA,CA8BI,CA/BN,CAgCI,CAjCN,C","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div class=\"login-form\">\r\n      <van-form @submit=\"onSubmit\">\r\n        <van-field\r\n            v-model=\"state.tel\"\r\n            type=\"tel\"\r\n            required\r\n            name=\"username\"\r\n            label=\"手機號碼\"\r\n            placeholder=\"手機號碼\"\r\n            :rules=\"[{ required: true, message: '請輸入您的手機號碼' }]\"\r\n        />\r\n        <van-field\r\n            v-model=\"state.password\"\r\n            type=\"password\"\r\n            required\r\n            name=\"password\"\r\n            label=\"密碼\"\r\n            placeholder=\"密碼\"\r\n            :rules=\"[{ required: true, message: '請輸入您的密碼' }]\"\r\n        />\r\n          <!-- <div style=\"margin-top: 16px;\" >\r\n            <a href=\"forgetPassword\">忘記密碼?</a>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <a href=\"/register\">註冊</a>\r\n          </div> -->\r\n          <div class=\"button_center\" style=\"margin: 16px;\">\r\n            <van-button class=\"submit\" round block type=\"primary\" native-type=\"submit\">\r\n              提交\r\n            </van-button>\r\n          </div>\r\n      </van-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueCookies from 'vue-cookies'\r\nimport { reactive } from 'vue';\r\nimport axios from \"axios\";\r\nimport {Toast} from \"vant\";\r\nimport md5 from 'js-md5';\r\nexport default {\r\n  name:'LoginForm',\r\n  beforeMount() {\r\n    if(VueCookies.get(\"LoginStatus\")==1){\r\n      window.location.href=\"./order\";\r\n    }\r\n  },\r\n  setup() {\r\n    const state = reactive({\r\n      username: '',\r\n      password: '',\r\n    });\r\n    const onSubmit = (values) => {\r\n      console.log('submit', values);\r\n      const data = {\r\n        username: '852'+values.username,\r\n        password: md5(values.password),\r\n      }\r\n      const headers = {\r\n        \"Content-Type\" : \"application/json; charset=utf-8\",\r\n      }\r\n      axios.post(\"http://121.199.54.43:8888/user/userLogin\", data, {headers})\r\n          // axios.post(\"http://192.168.100.103:8080/user/userLogin\", data, {headers})\r\n          // axios.post(\"/user/userLogin\", data, {headers})\r\n          .then(function(response){\r\n            console.log(response);\r\n            if(response.data.code == 200){\r\n              Toast(\"Login successfully\");\r\n              axios.get(\"http://121.199.54.43:8888/user/getUserByPhone?phone=\"+data.username).then(function(phoneResponse){\r\n              // axios.get(\"http://192.168.100.103:8080/user/getUserByPhone?phone=\"+data.username).then(function(phoneResponse){\r\n                // axios.get(\"/user/getUserByPhone?phone=\"+data.username).then(function(phoneResponse){\r\n                // let name = response.data.name;\r\n                console.log(phoneResponse.data.code);\r\n                if(phoneResponse.data.code == 200){\r\n                  VueCookies.set(\"LoginStatus\",1)\r\n                  VueCookies.set(\"Name\",phoneResponse.data.data.name);\r\n                  VueCookies.set(\"Phone\",data.username);\r\n                  window.location.href=\"./order\";\r\n                }\r\n                else{\r\n                  Toast(phoneResponse.data.msg);\r\n                }\r\n              });\r\n            }else{\r\n              Toast(response.data.msg);\r\n            }\r\n          })\r\n          .catch(error => {\r\n            this.errorMessage = error.message;\r\n            console.error(\"There was an error!\", error);\r\n          });\r\n    };\r\n    return {\r\n      state,\r\n      onSubmit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\n.submit{\r\n  /*margin-left: 27px;*/\r\n  width:100%;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: blue;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}