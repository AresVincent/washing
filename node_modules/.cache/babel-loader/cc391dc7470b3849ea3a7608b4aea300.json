{"remainingRequest":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\ForgetPwd.vue?vue&type=template&id=3f0e6318&scoped=true","dependencies":[{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\ForgetPwd.vue","mtime":1625798646049},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1624994109000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ares\\Desktop\\washing-master\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtM2YwZTYzMTgiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTNmMGU2MzE4Iik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImZvcmdldFB3ZCIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJwd2QtZm9ybSIKfTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIueZvOmAgempl+itieeivCIpOwoKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJidXR0b25fY2VudGVyIiwKICBzdHlsZTogewogICAgIm1hcmdpbiI6ICIxNnB4IgogIH0KfTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDmj5DkuqQgIik7CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfdmFuX2ZpZWxkID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1maWVsZCIpOwoKICB2YXIgX2NvbXBvbmVudF92YW5fYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1idXR0b24iKTsKCiAgdmFyIF9jb21wb25lbnRfdmFuX2Zvcm0gPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWZvcm0iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2Zvcm0sIHsKICAgIG9uU3VibWl0OiAkc2V0dXAub25TdWJtaXQKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fZmllbGQsIHsKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuc3RhdGUucGhvbmUsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkc2V0dXAuc3RhdGUucGhvbmUgPSAkZXZlbnQ7CiAgICAgICAgfSksCiAgICAgICAgdHlwZTogInRlbCIsCiAgICAgICAgcmVxdWlyZWQ6ICIiLAogICAgICAgIG5hbWU6ICJwaG9uZSIsCiAgICAgICAgbGFiZWw6ICLmiYvmqZ/omZ/norwiLAogICAgICAgIHBsYWNlaG9sZGVyOiAi5omL5qmf6Jmf56K8IiwKICAgICAgICBydWxlczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+iri+i8uOWFpeaCqOeahOaJi+apn+iZn+eivCcKICAgICAgICB9XQogICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9maWVsZCwgewogICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5zdGF0ZS5uZXdQYXNzd29yZCwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRzZXR1cC5zdGF0ZS5uZXdQYXNzd29yZCA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgICAgIHJlcXVpcmVkOiAiIiwKICAgICAgICBuYW1lOiAibmV3UGFzc3dvcmQiLAogICAgICAgIGxhYmVsOiAi5a+G56K8IiwKICAgICAgICBwbGFjZWhvbGRlcjogIuWvhueivCIsCiAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfoq4vovLjlhaXmgqjnmoTlr4bnorwnCiAgICAgICAgfV0KICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fZmllbGQsIHsKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuc3RhdGUuZGJDb25maXJlbWVkUHdkLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJHNldHVwLnN0YXRlLmRiQ29uZmlyZW1lZFB3ZCA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgICAgIHJlcXVpcmVkOiAiIiwKICAgICAgICBuYW1lOiAiZGJDb25maXJlbWVkUHdkIiwKICAgICAgICBsYWJlbDogIuWvhueivCIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICLoq4vlho3mrKHovLjlhaXmgqjnmoTlr4bnorwiLAogICAgICAgIHJ1bGVzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6KuL5YaN5qyh6Ly45YWl5oKo55qE5a+G56K8JwogICAgICAgIH1dCiAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ZpZWxkLCB7CiAgICAgICAgY2VudGVyOiAiIiwKICAgICAgICBjbGVhcmFibGU6ICIiLAogICAgICAgIGxhYmVsOiAi55+t5L+h6amX6K2J56K8IiwKICAgICAgICBwbGFjZWhvbGRlcjogIuiri+i8uOWFpeaCqOeahOefreS/oempl+itieeivCIsCiAgICAgICAgcmVxdWlyZWQ6ICIiLAogICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5zdGF0ZS5jb2RlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJHNldHVwLnN0YXRlLmNvZGUgPSAkZXZlbnQ7CiAgICAgICAgfSksCiAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfoq4vovLjlhaXmgqjnmoTnn63kv6HpqZforYnnorwnCiAgICAgICAgfV0KICAgICAgfSwgewogICAgICAgIGJ1dHRvbjogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9idXR0b24sIHsKICAgICAgICAgICAgb25DbGljazogJHNldHVwLnNlbmRTTVMsCiAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IgogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzNdOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSwgOCwgWyJvbkNsaWNrIl0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0sIDgsIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2J1dHRvbiwgewogICAgICAgIGNsYXNzOiAic3VibWl0IiwKICAgICAgICByb3VuZDogIiIsCiAgICAgICAgYmxvY2s6ICIiLAogICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICAibmF0aXZlLXR5cGUiOiAic3VibWl0IgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzVdOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSldKV07CiAgICB9KSwKICAgIF86IDEKICB9LCA4LCBbIm9uU3VibWl0Il0pXSldKTsKfSk7"},{"version":3,"sources":["C:\\Users\\Ares\\Desktop\\washing-master\\src\\components\\ForgetPwd.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"forgetPwd\">\r\n    <div class=\"pwd-form\">\r\n      <van-form @submit=\"onSubmit\">\r\n        <van-field\r\n            v-model=\"state.phone\"\r\n            type=\"tel\"\r\n            required\r\n            name=\"phone\"\r\n            label=\"手機號碼\"\r\n            placeholder=\"手機號碼\"\r\n            :rules=\"[{ required: true, message: '請輸入您的手機號碼' }]\"\r\n        />\r\n        <van-field\r\n            v-model=\"state.newPassword\"\r\n            type=\"password\"\r\n            required\r\n            name=\"newPassword\"\r\n            label=\"密碼\"\r\n            placeholder=\"密碼\"\r\n            :rules=\"[{ required: true, message: '請輸入您的密碼' }]\"\r\n        />\r\n        <van-field\r\n            v-model=\"state.dbConfiremedPwd\"\r\n            type=\"password\"\r\n            required\r\n            name=\"dbConfiremedPwd\"\r\n            label=\"密碼\"\r\n            placeholder=\"請再次輸入您的密碼\"\r\n            :rules=\"[{ required: true, message: '請再次輸入您的密碼' }]\"\r\n        />\r\n        <van-field\r\n            center\r\n            clearable\r\n            label=\"短信驗證碼\"\r\n            placeholder=\"請輸入您的短信驗證碼\"\r\n            required\r\n            v-model=\"state.code\"\r\n            :rules=\"[{ required: true, message: '請輸入您的短信驗證碼' }]\"\r\n        >\r\n          <template #button>\r\n            <van-button  @click=\"sendSMS\" size=\"small\" type=\"primary\">發送驗證碼</van-button>\r\n          </template>\r\n        </van-field>\r\n        <div class=\"button_center\" style=\"margin: 16px;\">\r\n            <van-button class=\"submit\" round block type=\"primary\" native-type=\"submit\">\r\n                提交\r\n            </van-button>\r\n        </div>\r\n      </van-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueCookies from 'vue-cookies'\r\nimport { reactive } from 'vue';\r\nimport axios from \"axios\";\r\nimport {Toast} from \"vant\";\r\nimport md5 from 'js-md5';\r\nexport default {\r\n  name:'PwdForm',\r\n  beforeMount() {\r\n    if(VueCookies.get(\"LoginStatus\")==1){\r\n      window.location.href=\"./order\";\r\n    }\r\n  },\r\n  setup() {\r\n    const state = reactive({\r\n      phone: '',\r\n      newPassword: '',\r\n      dbConfiremedPwd:'',\r\n      code:'',\r\n    });\r\n    const sendSMS = () => {\r\n      if(state.phone==\"\"){\r\n        Toast(\"請輸入你的聯絡電話\");\r\n      }else{\r\n        console.log(state.phone);\r\n        // axios.post(\"http://121.199.54.43:8888/tourist/sendSMSVerificationCode?phone=\"+\"852\"+state.phone)\r\n        axios.post(\"/tourist/sendSMSVerificationCode?phone=\"+\"852\"+state.phone)\r\n            .then(function(response){\r\n              // console.log(response);\r\n              Toast(response.data.msg);\r\n            })\r\n      }\r\n    };\r\n    const onSubmit = (values) => {\r\n        if(state.dbConfiremedPwd!=state.newPassword){\r\n          Toast(\"兩次密碼不相同\");\r\n        }\r\n      console.log('submit', values);\r\n      const data = {\r\n        phone: '852'+state.phone,\r\n        newPassword: md5(state.newPassword),\r\n        code:state.code,\r\n      }\r\n      const headers = {\r\n        \"Content-Type\" : \"application/json; charset=utf-8\",\r\n      }\r\n      // axios.post(\"http://121.199.54.43:8888/tourist/changePassword\", data, {headers})\r\n      axios.post(\"/tourist/changePassword\", data, {headers})\r\n        .then(function(register_response){\r\n          console.log(register_response);\r\n          if(register_response.data.code==200){\r\n            Toast(\"Success\");\r\n            window.location.href=\"./order\";\r\n          }else{\r\n            Toast(register_response.data.msg);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(\"There was an error!\", error.message);\r\n        });\r\n    };\r\n    return {\r\n      state,\r\n      onSubmit,\r\n      sendSMS\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\n.submit{\r\n  /*margin-left: 27px;*/\r\n  width:100%;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: blue;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}